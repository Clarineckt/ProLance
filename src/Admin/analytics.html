<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ProLance Dashboard</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/src/Admin/analytics.css" />
  </head>
  <body>
    <header class="header">
      <div style="display: flex; align-items: center; gap: 1rem">
        <div class="mobile-menu-toggle" onclick="toggleSidebar()">
          <span></span>
          <span></span>
          <span></span>
        </div>
        <div class="logo" onclick="refreshDashboard()">ProLance</div>
      </div>
      <div class="header-right">
        <div class="notification" onclick="showNotifications()">
          Notification
        </div>
        <div class="user-icon" onclick="showUserMenu()">
          <img src="/assets/img/profile.png" alt="Profile" />
        </div>
      </div>
    </header>

    <div class="main-layout">
      <nav class="sidebar" id="sidebar">
        <div class="sidebar-item" onclick="navigateTo('dashboard')">
          Dashboard
        </div>
        <div class="sidebar-item" onclick="navigateTo('users')">
          User Management
        </div>
        <div class="sidebar-item" onclick="navigateTo('projects')">
          Project Management
        </div>
        <div class="sidebar-item" onclick="navigateTo('payments')">
          Payments & Disputes
        </div>
        <div class="sidebar-item active" onclick="navigateTo('analytics')">
          Analytics & Reports
        </div>
      </nav>

      <main class="content">
        <div class="stats-grid">
          <div class="stats-left">
            <div class="stat-card" onclick="showUserDetails()">
              <div class="stat-title">Users</div>
              <div class="stat-number" id="userCount">10,000</div>
              <div class="stat-change">+15 New Users</div>
            </div>

            <div class="stat-card" onclick="showProjectDetails()">
              <div class="stat-title">Projects Posted</div>
              <div class="stat-number" id="projectCount">3,000</div>
              <div class="stat-change">+20 New Projects</div>
            </div>
          </div>

          <div class="analytics-card">
            <div class="analytics-title">User Analytics</div>

            <div class="analytics-stats">
              <div class="analytics-stat" onclick="showActiveUsers()">
                <div class="analytics-number">3.82k</div>
                <div class="analytics-label">Active Users</div>
              </div>
              <div class="analytics-stat" onclick="showMonthlyUsers()">
                <div class="analytics-number">3.41k</div>
                <div class="analytics-label">Monthly Users</div>
              </div>
            </div>

            <div
              class="chart-container"
              onmousemove="showTooltip(event)"
              onmouseleave="hideTooltip()"
            >
              <svg class="chart-svg" viewBox="0 0 400 200">
                <defs>
                  <linearGradient
                    id="gradient"
                    x1="0%"
                    y1="0%"
                    x2="0%"
                    y2="100%"
                  >
                    <stop
                      offset="0%"
                      style="stop-color: #3b82f6; stop-opacity: 0.3"
                    />
                    <stop
                      offset="100%"
                      style="stop-color: #3b82f6; stop-opacity: 0.1"
                    />
                  </linearGradient>
                </defs>

                <defs>
                  <pattern
                    id="grid"
                    width="40"
                    height="40"
                    patternUnits="userSpaceOnUse"
                  >
                    <path
                      d="M 40 0 L 0 0 0 40"
                      fill="none"
                      stroke="#f0f0f0"
                      stroke-width="1"
                    />
                  </pattern>
                </defs>
                <rect width="100%" height="100%" fill="url(#grid)" />

                <path
                  class="chart-area"
                  d="M 20 120 Q 60 80 100 100 T 180 90 Q 220 85 260 70 Q 300 90 340 60 Q 360 65 380 80 L 380 180 L 20 180 Z"
                />

                <path
                  class="chart-line"
                  d="M 20 120 Q 60 80 100 100 T 180 90 Q 220 85 260 70 Q 300 90 340 60 Q 360 65 380 80"
                />

                <path
                  class="chart-line-secondary"
                  d="M 20 140 Q 80 110 120 130 Q 160 125 200 115 Q 240 120 280 100 Q 320 105 380 95"
                />

                <circle
                  class="chart-dot"
                  cx="100"
                  cy="100"
                  onclick="showDataPoint(1)"
                />
                <circle
                  class="chart-dot"
                  cx="180"
                  cy="90"
                  onclick="showDataPoint(2)"
                />
                <circle
                  class="chart-dot"
                  cx="260"
                  cy="70"
                  onclick="showDataPoint(3)"
                />
                <circle
                  class="chart-dot"
                  cx="340"
                  cy="60"
                  onclick="showDataPoint(4)"
                />
              </svg>
              <div class="tooltip" id="tooltip"></div>
            </div>
          </div>
        </div>

        <div class="reports-section">
          <div class="reports-header">
            <div class="reports-title">Reports</div>
          </div>

          <table class="reports-table">
            <thead>
              <tr>
                <th onclick="sortTable(0)">Subject ↕️</th>
                <th onclick="sortTable(1)">Details ↕️</th>
                <th onclick="sortTable(2)">Uploaded Date ↕️</th>
              </tr>
            </thead>
            <tbody id="reportsTableBody">
              <tr onclick="showReportDetails(1)">
                <td>Subject 1</td>
                <td>Details 1</td>
                <td>May 1st 2025 11:45</td>
              </tr>
              <tr onclick="showReportDetails(2)">
                <td>Subject 2</td>
                <td>Details 2</td>
                <td>May 1st 2025 11:45</td>
              </tr>
              <tr onclick="showReportDetails(3)">
                <td>Subject 3</td>
                <td>Details 3</td>
                <td>May 1st 2025 11:45</td>
              </tr>
              <tr onclick="showReportDetails(4)">
                <td>Subject 4</td>
                <td>Details 4</td>
                <td>May 1st 2025 11:45</td>
              </tr>
            </tbody>
          </table>
        </div>
      </main>
    </div>

    <script src="/src/Admin/analytics.js"></script>
  </body>
</html>
